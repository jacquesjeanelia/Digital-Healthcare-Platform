(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{9596:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/appointments/[id]",function(){return n(2729)}])},2729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return AppointmentDetail}});var r=n(5893),o=n(5379),a=n.n(o),i=n(7294),s=n(1163),d=n(9008),l=n.n(d),p=n(1664),c=n.n(p),m=n(7317),h=n.n(m);function AppointmentDetail(){var e;let t=(0,s.useRouter)(),{id:n}=t.query,[o,d]=(0,i.useState)(null),[p,m]=(0,i.useState)(!0),[x,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){t.push("/auth/login");return}if(!n)return;let fetchAppointment=async()=>{try{let t=await fetch("/api/appointments/".concat(n),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch appointment: ".concat(t.status));let r=await t.json();d(r.appointment)}catch(e){console.error("Error fetching appointment:",e),f(e.message||"Failed to load appointment")}finally{m(!1)}};fetchAppointment()},[n,t]);let handleCancelAppointment=async()=>{if(!o||!confirm("Are you sure you want to cancel this appointment?"))return;let e=localStorage.getItem("token");if(!e){t.push("/auth/login");return}try{m(!0);let t=await fetch("/api/appointments/".concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({status:"cancelled"})});if(!t.ok)throw Error("Failed to cancel appointment: ".concat(t.status));let r=await t.json();d(r.appointment)}catch(e){console.error("Error cancelling appointment:",e),f(e.message||"Failed to cancel appointment")}finally{m(!1)}},g=o&&("scheduled"===o.status||"confirmed"===o.status);return p?(0,r.jsx)("div",{className:h().container,children:(0,r.jsxs)("div",{style:{textAlign:"center",padding:"50px 0"},className:"jsx-7b580fbd0b64e6d5",children:[(0,r.jsx)("h2",{className:"jsx-7b580fbd0b64e6d5",children:"Loading appointment details..."}),(0,r.jsx)("div",{style:{margin:"20px auto",width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-7b580fbd0b64e6d5"}),(0,r.jsx)(a(),{id:"7b580fbd0b64e6d5",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}):x?(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsxs)("header",{className:h().header,children:[(0,r.jsx)("h1",{children:"Appointment Not Found"}),(0,r.jsx)("div",{children:(0,r.jsx)(c(),{href:"/appointments",children:"Back to Appointments"})})]}),(0,r.jsx)("div",{style:{padding:"20px",background:"#fee2e2",border:"1px solid #ef4444",borderRadius:"8px",marginTop:"20px"},children:(0,r.jsx)("p",{children:x})})]}):o?(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Appointment Details - Digital Healthcare Platform"}),(0,r.jsx)("meta",{name:"description",content:"View appointment details"})]}),(0,r.jsxs)("header",{className:h().header,children:[(0,r.jsx)("h1",{children:"Appointment Details"}),(0,r.jsx)("div",{children:(0,r.jsx)(c(),{href:"/appointments",style:{marginRight:"15px"},children:"Back to Appointments"})})]}),(0,r.jsx)("main",{className:h().main,children:(0,r.jsxs)("div",{className:h().formContainer,style:{maxWidth:"800px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"10px"},children:[(0,r.jsx)("h2",{style:{margin:0},children:o.type}),(e=o.status,(0,r.jsx)("span",{style:{padding:"4px 10px",borderRadius:"4px",backgroundColor:(e=>{switch(e){case"scheduled":return"#3b82f6";case"confirmed":return"#10b981";case"in-progress":return"#f59e0b";case"completed":return"#1f2937";case"cancelled":return"#ef4444";default:return"#6b7280"}})(e),color:"white",fontSize:"0.8rem",fontWeight:"bold",textTransform:"uppercase"},children:e}))]}),(0,r.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,r.jsx)("div",{style:{padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"20px"},children:(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Date & Time"}),(0,r.jsx)("p",{style:{margin:0,fontWeight:"bold"},children:(e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(t)})(o.dateTime)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Duration"}),(0,r.jsxs)("p",{style:{margin:0,fontWeight:"bold"},children:[o.duration," minutes"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Doctor"}),(0,r.jsxs)("p",{style:{margin:0,fontWeight:"bold"},children:["Dr. ",o.doctorName]})]})]})}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("h3",{style:{fontSize:"1.1rem",marginBottom:"10px"},children:"Appointment Details"}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Reason for Visit"}),(0,r.jsx)("p",{style:{margin:0},children:o.reasonForVisit})]}),o.symptoms&&o.symptoms.length>0&&(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Symptoms"}),(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:o.symptoms.map((e,t)=>(0,r.jsx)("span",{style:{padding:"2px 8px",backgroundColor:"#e5e7eb",borderRadius:"4px",fontSize:"0.85rem"},children:e},t))})]}),o.notes&&(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Doctor's Notes"}),(0,r.jsx)("p",{style:{margin:0},children:o.notes})]}),o.location&&(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Location"}),(0,r.jsx)("p",{style:{margin:0},children:o.location})]}),o.virtualMeetingLink&&(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"0.9rem",color:"#6b7280"},children:"Virtual Meeting"}),(0,r.jsx)("a",{href:o.virtualMeetingLink,target:"_blank",rel:"noopener noreferrer",className:h().button,style:{display:"inline-block",marginTop:"5px"},children:"Join Meeting"})]})]}),(0,r.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280",marginTop:"30px"},children:[(0,r.jsxs)("p",{children:["Appointment ID: ",o.id]}),(0,r.jsxs)("p",{children:["Created: ",new Date(o.createdAt).toLocaleString()]}),o.updatedAt!==o.createdAt&&(0,r.jsxs)("p",{children:["Last Updated: ",new Date(o.updatedAt).toLocaleString()]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #e5e7eb",paddingTop:"20px"},children:[(0,r.jsx)(c(),{href:"/appointments",style:{padding:"10px 16px",border:"1px solid #d1d5db",borderRadius:"4px",textDecoration:"none",color:"#4b5563"},children:"Back to Appointments"}),g&&(0,r.jsx)("button",{onClick:handleCancelAppointment,style:{padding:"10px 16px",backgroundColor:"#fee2e2",color:"#b91c1c",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel Appointment"})]})]})})]}):(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsxs)("header",{className:h().header,children:[(0,r.jsx)("h1",{children:"Appointment Not Found"}),(0,r.jsx)("div",{children:(0,r.jsx)(c(),{href:"/appointments",children:"Back to Appointments"})})]}),(0,r.jsx)("div",{style:{textAlign:"center",padding:"50px 0"},children:(0,r.jsx)("p",{children:"The appointment you're looking for could not be found."})})]})}},7317:function(e){e.exports={container:"Dashboard_container__KcHrK",header:"Dashboard_header__N6bxR",logoutButton:"Dashboard_logoutButton__oi5JT",main:"Dashboard_main__w685B",grid:"Dashboard_grid__3NToH",card:"Dashboard_card__On9Pb",button:"Dashboard_button__idTka",appointmentsGrid:"Dashboard_appointmentsGrid__IPUk6",appointmentCard:"Dashboard_appointmentCard__uPiye",formContainer:"Dashboard_formContainer__E7yeN",formGroup:"Dashboard_formGroup__MUlGz",formInput:"Dashboard_formInput__teeW5",formSelect:"Dashboard_formSelect__SX1sM",formError:"Dashboard_formError__hDGfH"}}},function(e){e.O(0,[664,379,774,888,179],function(){return e(e.s=9596)}),_N_E=e.O()}]);